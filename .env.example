# Configuration d'exemple pour Qwen3-VL FastAPI Server
# Copiez ce fichier vers .env et modifiez selon vos besoins

# =============================================================================
# CONFIGURATION API
# =============================================================================

# Préfixe pour tous les endpoints (ex: /api/v1)
API_PREFIX=""

# Root path pour reverse proxy/ingress (ex: /qwen)
ROOT_PATH=""

# Serveur
HOST="0.0.0.0"
PORT="8000"
WORKERS="1"

# Port exposé sur l'hôte
HOST_PORT="8000"

# =============================================================================
# CONFIGURATION MODÈLE
# =============================================================================

# Modèle Qwen à utiliser
MODEL_NAME="Qwen/Qwen2-VL-7B-Instruct"

# Longueur maximale de contexte (tokens)
MAX_SEQ_LENGTH="32768"

# Quantification 4-bit pour économiser la VRAM
LOAD_IN_4BIT="true"

# Token Hugging Face (requis pour certains modèles)
# HUGGINGFACE_TOKEN="your_hf_token_here"

# =============================================================================
# CONFIGURATION GPU/PERFORMANCE
# =============================================================================

# GPU à utiliser (all, 0, 1, etc.)
CUDA_VISIBLE_DEVICES="0"

# =============================================================================
# CONFIGURATION SÉCURITÉ
# =============================================================================

# Origines CORS autorisées (séparées par des virgules)
CORS_ORIGINS="*"

# Hôtes de confiance pour reverse proxy
# TRUSTED_HOSTS="yourdomain.com,api.yourdomain.com"

# =============================================================================
# CONFIGURATION SSL (optionnel)
# =============================================================================

# SSL_KEYFILE="/path/to/key.pem"
# SSL_CERTFILE="/path/to/cert.pem"

# =============================================================================
# CONFIGURATION NGINX (optionnel)
# =============================================================================

# Port Nginx HTTP
NGINX_PORT="80"

# Port Nginx HTTPS
NGINX_SSL_PORT="443"

# =============================================================================
# CONFIGURATION MONITORING (optionnel)
# =============================================================================

# Port Prometheus
PROMETHEUS_PORT="9090"

# Port Grafana
GRAFANA_PORT="3000"

# Mot de passe admin Grafana
GRAFANA_PASSWORD="admin"

# =============================================================================
# VARIABLES D'ENVIRONNEMENT DE DÉVELOPPEMENT
# =============================================================================

# Rechargement automatique en développement
RELOAD="false"

# Niveau de log
LOG_LEVEL="info"

# =============================================================================
# EXEMPLES DE CONFIGURATION PAR ENVIRONNEMENT
# =============================================================================

# DÉVELOPPEMENT:
# API_PREFIX="/api/v1"
# CORS_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"
# RELOAD="true"

# PRODUCTION:
# API_PREFIX=""
# ROOT_PATH="/qwen"
# CORS_ORIGINS="https://yourdomain.com"
# TRUSTED_HOSTS="yourdomain.com,api.yourdomain.com"
# WORKERS="2"

# GPU MULTIPLE:
# CUDA_VISIBLE_DEVICES="0,1"
# WORKERS="2"

# CONTEXTE ÉTENDU:
# MAX_SEQ_LENGTH="65536"  # 64K tokens
# LOAD_IN_4BIT="true"     # Requis pour le contexte étendu